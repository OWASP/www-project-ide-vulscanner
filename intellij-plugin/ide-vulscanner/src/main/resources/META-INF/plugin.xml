<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin -->
    <id>org.owasp.ide-vulscanner</id>

    <!-- Public plugin name -->
    <name>OWASP IDE-VulScanner</name>

    <!-- Vendor information -->
    <vendor email="jitu.ranjan007@gmail.com" url="https://destinjidee.com">destinjidee</vendor>
    
    <product-descriptor code="" release-date="20240524" release-version="10" optional="true"></product-descriptor>

    <change-notes><![CDATA[
        <h2>Release Notes</h2>
        <ul>
        <li>1.0.8 - Added Spectral API linting integration</li>
        <li>1.0.7 - Latest 2024.1 supported version</li>
        <li>Latest OWASP dependency check version, expect a delay due to latest NVD CVE download</li>
        <li>Freemium license, JDK 17 support</li>
        <li>Bug fixes and improvements</li>
        </ul>
    ]]></change-notes>

    <description><![CDATA[
        <p> OWASP <a href="https://owasp.org/www-project-ide-vulscanner/"> IDE-VulScanner </a> is an open-source IDE plugin tool to analyze an applicationâ€™s components. It is built on top of <a href="https://owasp.org/www-project-dependency-check/">OWASP Dependency Check</a>, which scans your application's component vulnerabilities during the implementation phase.</p>

        <h2>Features</h2>
        <ul>
        <li>Analyze your Maven project dependencies for <a href="https://cve.mitre.org/">CVSS score</a></li>
        <li>Highlights vulnerable components within your Maven project</li>
        <li>Generate <a href="https://owasp.org/www-project-dependency-check/"> OWASP Dependency Check Report</a></li>
        <li>ðŸ”¥ New: Run Spectral API linting on OpenAPI files</li>
        </ul>
    ]]></description>

    <!-- Compatibility -->
    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Register Spectral runner service -->
        <applicationService serviceImplementation="org.owasp.idevulscanner.spectral.SpectralRunner"/>
    </extensions>

    <actions>
        <!-- Existing OWASP dependency scan action -->
        <action id="org.owasp.idevulscanner.action.IDEMavenDependencyScanAction"
                class="org.owasp.idevulscanner.action.IDEMavenDependencyScanAction"
                text="OWASP IDE-VulScanner"
                description="Checks CVE score for all Maven project dependencies"
                icon="/icons/pluginIcon.svg">
            <add-to-group group-id="NavBarToolBar" anchor="first"/>
        </action>

        <!-- New Spectral linting action -->
        <action id="org.owasp.idevulscanner.spectral.RunSpectralAction"
                class="org.owasp.idevulscanner.spectral.RunSpectralAction"
                text="Run Spectral Linter"
                description="Lints OpenAPI files using Spectral">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>

</idea-plugin>
